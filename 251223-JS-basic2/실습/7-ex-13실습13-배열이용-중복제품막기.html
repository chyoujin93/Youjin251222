<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <h1>실습 13 </h1>
    <input type="text" id="itemInput" placeholder="사고 싶은 물건">
    <button id="newBtn">담기</button>
    <ul id="itemList"></ul>
    <script>
        //실습13
        // 중복 상품 막기 (`includes`)
        // 파일명: 6-ex-12-실습12-배열이용.html
        // 참고해서, 
        // 새파일 만들어서 작업 해보기

        // **목표:**
        // 이미 장바구니에 "우유"가 있는데 또 "우유"를 담으면 안 되겠죠?
        // 배열에 **이미 해당 값이 있는지 검사**하는 기능을 추가해 봅시다.

        // **힌트:**
        // `배열이름.includes(찾을값)`을 사용하면 `true` 또는 `false`를 알려줍니다.

        // #### 🧩 문제 (JavaScript 작성)

        // 위의 코드(정답 코드)를 기반으로 작성하세요.

        // 1. 버튼을 클릭했을 때 바로 `push` 하지 말고 **`if` 문으로 검사**를 먼저 하세요.
        // 2. 조건: 만약 `cart` 배열에 입력한 `item`이 **이미 포함되어 있다면(`includes`)**,
        // * `alert("이미 장바구니에 있습니다!");`를 띄우세요.


        // 3. 그렇지 않다면(`else`),
        // * 기존처럼 배열에 추가하고 화면에 보여주세요.

        let cart = [];

        // 순서2 , 요소 선택하기. 
        const itemInput = document.getElementById("itemInput");
        const newBtn = document.getElementById("newBtn");
        const itemList = document.getElementById("itemList");


        newBtn.addEventListener('click', function () {

            const item = itemInput.value

            // 유효성 검사. 1) 앞단(프론트엔드) 2) 백엔드(서버) 3) 데이터베이스 
            // 예시) 1) 중복여부 2)기본 검사, 데이터 유무 
            // 3) 조건 검사(비밀번호 길이, 특수문자 포함 여부)

            // 1. 버튼을 클릭했을 때 바로 `push` 하지 말고 
            // **`if` 문으로 검사**를 먼저 하세요.

            //2)기본 검사
            if (item === "") {
                return; // 빈칸이면 , 함수 종료 (아무것도 안함)
            }
            // 2. 조건: 만약 `cart` 배열에 입력한 `item`이 **이미 포함되어 있다면(`includes`)**,
            // * `alert("이미 장바구니에 있습니다!");`를 띄우세요.
            if (cart.includes(item) === true) { // 이미 장바구니에 같은 상품이 있다는 조건.
                alert("이미 장바구니에 있습니다!");
            } else {
                // 3. 그렇지 않다면(`else`),
                // * 기존처럼 배열에 추가하고 화면에 보여주세요.
                cart.push(item); // 2. 배열에 추가하기 (핵심!)
                itemList.innerHTML += "<li>" + item + "</li>";
                itemInput.value = ""; // 3. 입력창 비우기
            }

        })


    </script>
</body>

</html>